# Configuration for importing Perl5 modules and tests into PerlOnJava
#
# Each entry specifies:
#   source:    Path relative to project root (typically perl5/...)
#   target:    Path relative to project root where file/dir should be copied
#   type:      'file' (default) or 'directory' for bulk directory copies
#   patch:     Optional patch file (relative to dev/import-perl5/patches/)
#   protected: Optional boolean (true/false) - if true, existing file won't be overwritten
#
# To add a new import:
# 1. Add an entry below
# 2. If a patch is needed, create it with: diff -u original modified > patches/filename.patch
# 3. Run: perl dev/import-perl5/sync.pl
#
# PROTECTED FILES:
# Files with 'protected: true' will be skipped during sync if they already exist.
# This is useful for files that have been customized for PerlOnJava.

imports:
  # Perl modules imported to src/main/perl/lib/
  - source: perl5/lib/Benchmark.pm
    target: src/main/perl/lib/Benchmark.pm

  # Module tests go to perl5_t/ (external, not in git)
  - source: perl5/lib/Benchmark.t
    target: perl5_t/Benchmark/Benchmark.t

  # Perl 5 test infrastructure files
  - source: perl5/TestInit.pm
    target: perl5_t/TestInit.pm

  - source: perl5/MANIFEST
    target: perl5_t/MANIFEST

  - source: perl5/README
    target: perl5_t/README

  - source: perl5/Artistic
    target: perl5_t/Artistic

  - source: perl5/Copying
    target: perl5_t/Copying

  - source: perl5/AUTHORS
    target: perl5_t/AUTHORS

  - source: perl5/Changes
    target: perl5_t/Changes

  - source: perl5/Porting
    target: perl5_t/Porting
    type: directory

  # NOTE: perl5_t/lib directory should exist (for opendir tests) but remain empty
  # to avoid module loading conflicts. PerlOnJava uses src/main/perl/lib instead.
  # The sync.pl script will create an empty perl5_t/lib directory if needed.

  # Bulk import all core test files from perl5/t/ to perl5_t/t/
  # This creates a complete Perl 5 test environment under perl5_t/
  - source: perl5/t
    target: perl5_t/t
    type: directory

  # Specific patched files (applied after directory import above)
  - source: perl5/t/test.pl
    target: perl5_t/t/test.pl
    patch: test.pl.patch

  - source: perl5/t/re/pat.t
    target: perl5_t/t/re/pat.t
    patch: pat.t.patch

  # Pod modules from CPAN distributions
  # Pod::Simple - Core POD parser
  - source: perl5/cpan/Pod-Simple/lib/Pod
    target: src/main/perl/lib/Pod
    type: directory

  # Pod::Escapes - Character escapes for POD
  - source: perl5/cpan/Pod-Escapes/lib/Pod
    target: src/main/perl/lib/Pod
    type: directory

  # podlators - Pod::Man and Pod::Text formatters
  - source: perl5/cpan/podlators/lib/Pod
    target: src/main/perl/lib/Pod
    type: directory

  # Pod::Usage - Pod documentation usage information
  - source: perl5/cpan/Pod-Usage/lib/Pod
    target: src/main/perl/lib/Pod
    type: directory

  # Text::Tabs - Required by Pod modules for text wrapping
  - source: perl5/cpan/Text-Tabs/lib/Text
    target: src/main/perl/lib/Text
    type: directory

  # Test::Podlators and Test::RRA - Test helper modules (must be in @INC)
  - source: perl5/cpan/podlators/t/lib/Test
    target: src/main/perl/lib/Test
    type: directory

  # Pod module tests from CPAN distributions
  - source: perl5/cpan/Pod-Checker/lib/Pod
    target: src/main/perl/lib/Pod
    type: directory

  - source: perl5/cpan/Pod-Checker/t
    target: perl5_t/Pod/Pod-Checker
    type: directory

  - source: perl5/cpan/Pod-Escapes/t
    target: perl5_t/Pod/Pod-Escapes
    type: directory

  - source: perl5/cpan/Pod-Perldoc/t
    target: perl5_t/Pod/Pod-Perldoc
    type: directory

  - source: perl5/cpan/Pod-Simple/t
    target: perl5_t/Pod/Pod-Simple
    type: directory

  - source: perl5/cpan/Pod-Usage/t
    target: perl5_t/Pod/Pod-Usage
    type: directory

  - source: perl5/cpan/podlators/t
    target: perl5_t/Pod/podlators/t
    type: directory

  # From CPAN distribution
  - source: perl5/cpan/Digest/lib/Digest.pm
    target: src/main/perl/lib/Digest.pm

  # Tests for distribution
  - source: perl5/cpan/Digest/t
    target: perl5_t/Digest
    type: directory

  # From core library
  - source: perl5/lib/File/Basename.pm
    target: src/main/perl/lib/File/Basename.pm

  # Related test
  - source: perl5/lib/File/Basename.t
    target: perl5_t/File/Basename.t

  # From core library
  - source: perl5/lib/Tie/Array.pm
    target: src/main/perl/lib/Tie/Array.pm

  # From core library
  - source: perl5/lib/Tie/Handle.pm
    target: src/main/perl/lib/Tie/Handle.pm

  # From core library
  - source: perl5/lib/Tie/Hash.pm
    target: src/main/perl/lib/Tie/Hash.pm

  # Related test
  - source: perl5/lib/Tie/Hash.t
    target: perl5_t/Tie/Hash.t

  # From core library
  - source: perl5/lib/Tie/Scalar.pm
    target: src/main/perl/lib/Tie/Scalar.pm

  # Related test
  - source: perl5/lib/Tie/Scalar.t
    target: perl5_t/Tie/Scalar.t

  # From core library
  - source: perl5/lib/Unicode/UCD.pm
    target: src/main/perl/lib/Unicode/UCD.pm

  # Related test
  - source: perl5/lib/Unicode/UCD.t
    target: perl5_t/Unicode/UCD.t

  # From core library
  - source: perl5/lib/_charnames.pm
    target: src/main/perl/lib/_charnames.pm

  # From core library
  - source: perl5/lib/charnames.pm
    target: src/main/perl/lib/charnames.pm

  # Related test
  - source: perl5/lib/charnames.t
    target: perl5_t/charnames.t

  # From core library
  - source: perl5/lib/integer.pm
    target: src/main/perl/lib/integer.pm

  # Related test
  - source: perl5/lib/integer.t
    target: perl5_t/integer.t

  # From core library
  - source: perl5/lib/locale.pm
    target: src/main/perl/lib/locale.pm

  # Related test
  - source: perl5/lib/locale.t
    target: perl5_t/locale.t

  # From core library
  - source: perl5/cpan/experimental/lib
    target: src/main/perl/lib
    type: directory

  # Related test
  - source: perl5/cpan/experimental/t
    target: perl5_t/experimental
    type: directory

  # From core library
  - source: perl5/lib/vmsish.pm
    target: src/main/perl/lib/vmsish.pm

  # Related test
  - source: perl5/lib/vmsish.t
    target: perl5_t/vmsish.t

  # From CPAN distribution
  - source: perl5/cpan/Digest/lib/Digest/base.pm
    target: src/main/perl/lib/Digest/base.pm

  # From CPAN distribution
  - source: perl5/cpan/Digest/lib/Digest/file.pm
    target: src/main/perl/lib/Digest/file.pm

  # From CPAN distribution
  - source: perl5/cpan/Locale-Maketext-Simple/lib/Locale/Maketext/Simple.pm
    target: src/main/perl/lib/Locale/Maketext/Simple.pm

  # Tests for distribution
  - source: perl5/cpan/Locale-Maketext-Simple/t
    target: perl5_t/Locale-Maketext-Simple
    type: directory

  # From CPAN distribution
  - source: perl5/cpan/Params-Check/lib/Params/Check.pm
    target: src/main/perl/lib/Params/Check.pm

  # Tests for distribution
  - source: perl5/cpan/Params-Check/t
    target: perl5_t/Params-Check
    type: directory

  # From CPAN distribution
  - source: perl5/cpan/Perl-OSType/lib/Perl/OSType.pm
    target: src/main/perl/lib/Perl/OSType.pm

  # Tests for distribution
  - source: perl5/cpan/Perl-OSType/t
    target: perl5_t/Perl-OSType
    type: directory

  # From CPAN distribution
  - source: perl5/cpan/Text-ParseWords/lib/Text/ParseWords.pm
    target: src/main/perl/lib/Text/ParseWords.pm

  # Tests for distribution
  - source: perl5/cpan/Text-ParseWords/t
    target: perl5_t/Text-ParseWords
    type: directory

  # From CPAN distribution
  - source: perl5/cpan/Text-Tabs/lib/Text/Tabs.pm
    target: src/main/perl/lib/Text/Tabs.pm

  # Tests for distribution
  - source: perl5/cpan/Text-Tabs/t
    target: perl5_t/Text-Tabs/t
    type: directory

  # From CPAN distribution
  - source: perl5/cpan/Text-Tabs/lib/Text/Wrap.pm
    target: src/main/perl/lib/Text/Wrap.pm

  # From CPAN distribution
  - source: perl5/cpan/version/lib/version/regex.pm
    target: src/main/perl/lib/version/regex.pm

  # Tests for distribution
  - source: perl5/cpan/version/t
    target: perl5_t/version
    type: directory

  # From core distribution
  - source: perl5/dist/Attribute-Handlers/lib/Attribute/Handlers.pm
    target: src/main/perl/lib/Attribute/Handlers.pm

  # Tests for distribution
  - source: perl5/dist/Attribute-Handlers/t
    target: perl5_t/Attribute-Handlers
    type: directory

  # From core distribution
  - source: perl5/dist/Env/lib/Env.pm
    target: src/main/perl/lib/Env.pm

  # Tests for distribution
  - source: perl5/dist/Env/t
    target: perl5_t/Env
    type: directory

  # From core distribution
  - source: perl5/dist/FindBin/lib/FindBin.pm
    target: src/main/perl/lib/FindBin.pm

  # Tests for distribution
  - source: perl5/dist/FindBin/t
    target: perl5_t/FindBin
    type: directory

  # From core distribution
  - source: perl5/dist/Test/lib/Test.pm
    target: src/main/perl/lib/Test.pm

  # Tests for distribution
  - source: perl5/dist/Test/t
    target: perl5_t/Test
    type: directory

  # From core distribution
  - source: perl5/dist/Unicode-Normalize/Normalize.pm
    target: src/main/perl/lib/Unicode/Normalize.pm

  # Tests for distribution
  - source: perl5/dist/Unicode-Normalize/t
    target: perl5_t/Unicode-Normalize
    type: directory

  # From core distribution
  - source: perl5/dist/if/if.pm
    target: src/main/perl/lib/if.pm

  # Tests for distribution
  - source: perl5/dist/if/t
    target: perl5_t/if
    type: directory

  # From extension
  - source: perl5/ext/File-Find/lib/File/Find.pm
    target: src/main/perl/lib/File/Find.pm

  # Tests for distribution
  - source: perl5/ext/File-Find/t
    target: perl5_t/File-Find
    type: directory

  # From core distribution
  - source: perl5/dist/Data-Dumper/Dumper.pm
    target: src/main/perl/lib/Data/Dumper.pm

  # Tests for distribution
  - source: perl5/dist/Data-Dumper/t
    target: perl5_t/Data-Dumper
    type: directory

  # From CPAN distribution (imports entire Getopt directory including Long.pm and Parser.pm)
  - source: perl5/cpan/Getopt-Long/lib/Getopt
    target: src/main/perl/lib/Getopt
    type: directory

  # Tests for distribution
  - source: perl5/cpan/Getopt-Long/t
    target: perl5_t/Getopt-Long
    type: directory

  # From CPAN distribution (Test-Simple includes Test::More, Test::Builder, ok.pm, etc.)
  - source: perl5/cpan/Test-Simple/lib
    target: src/main/perl/lib
    type: directory

  # Test::More.pm is protected - custom simplified version for PerlOnJava
  # Original Test::More uses Test2 API which has compatibility issues
  - source: perl5/cpan/Test-Simple/lib/Test/More.pm
    target: src/main/perl/lib/Test/More.pm
    protected: true

  # Tests for distribution
  - source: perl5/cpan/Test-Simple/t
    target: perl5_t/Test-Simple
    type: directory

  # Term::Table - Table formatting for Test2 and general use
  - source: perl5/cpan/Term-Table/lib/Term/Table.pm
    target: src/main/perl/lib/Term/Table.pm

  - source: perl5/cpan/Term-Table/lib/Term/Table
    target: src/main/perl/lib/Term/Table
    type: directory

  # Term::Table tests
  - source: perl5/cpan/Term-Table/t
    target: perl5_t/Term-Table
    type: directory

  # Add more imports below as needed
  # Example with minimal fields:
  # - source: perl5/lib/SomeModule.pm
  #   target: src/main/perl/lib/SomeModule.pm
  #
  # Example with patch:
  # - source: perl5/lib/SomeModule.pm
  #   target: src/main/perl/lib/SomeModule.pm
  #   patch: SomeModule.pm.patch
  #
  # Example directory import:
  # - source: perl5/some_directory
  #   target: target_directory
  #   type: directory

